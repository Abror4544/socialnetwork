{"version":3,"sources":["assets/images/empty.png","api/api.js","redux/dialogs-reducer.js","components/Navbar/Nav.module.css","components/Users/Users.module.css","assets/images/logo.png","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Navbar/Nav.jsx","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","support/object-helpers.js","redux/users-reducer.js","redux/user-selectors.js","components/Users/UsersContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","reportWebVitals.js","index.js","components/Login/Login.module.css","components/common/FormsControls/FormsControls.js","assets/images/loader.svg","components/common/Preloader/Preloader.js","components/common/Paginator/Paginator.module.css","support/validators.js","components/Header/Header.module.css","components/common/FormsControls/FormsControls.module.css","hoc/withAuthRedirect.js","redux/profile-reducer.js"],"names":["instance","axios","baseURL","withCredentials","headers","API","getUsers","currentPage","pageSize","get","then","response","data","getUserId","userId","auth","login","email","password","captcha","post","logout","delete","follow","unfollow","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","getCaptchaUrl","SEND_MESSAGE","initialState","dialogs","id","name","ava","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","Header","props","className","s","header","src","logo","loginBlock","isAuth","onClick","to","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","isFetching","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","authentication","dispatch","a","resultCode","url","authReducer","HeaderContainer","this","React","Component","connect","Nav","nav","item","active","activeClassName","activeLink","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagination","movePaginator","filter","p","map","e","page","User","user","followingInProgress","userContainer","avatarBlock","avatar","photos","small","userPhoto","alt","flwBtn","followed","disabled","some","userInfoBlock","personInfo","userName","regionInfo","country","city","Users","totalUsersCount","users","u","updateObjectInArray","items","itemId","objPropName","newObjProps","FOLLOW","UNFOLLOW","SET_USERS","TOGGLE_IS_FETCHING","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FOLLOWING_PROGRESS","followSuccess","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","setCurrentPage","followUnfollowFlow","apiMethod","actionCreator","usersReducer","count","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","Preloader","compose","withAuthRedirect","bind","totalCount","maxLength30","maxLengthCreator","LoginReduxForm","reduxForm","form","handleSubmit","error","loginform","createField","required","Input","input","formSummaryError","button","rememberMe","length","stopSubmit","_error","formWrapper","onSubmit","INITIALIZED_SUCCESS","initialized","globalError","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandledErrors","reason","promise","console","initializeApp","addEventListener","removeEventListener","exact","path","render","style","textAlign","AppContainer","withRouter","Promise","all","MainApp","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","FormControl","meta","touched","child","hasError","formControl","children","Textarea","restProps","placeholder","validators","component","validate","loader","preloader","value","maxLength","mapStateToPropsForRedirect","RedirectComponent","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likesCount","addPostActionCreator","newPostBody","setStatus","setUserProfile","putUserId","file","getState","reject","newPost","postId"],"mappings":"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","file":"static/js/main.b6a42d19.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/empty.d0b8fde8.png\";","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"0c1bf043-d485-4793-94df-f091be2d6891\",\r\n  },\r\n});\r\n\r\nexport const API = {\r\n  getUsers(currentPage = 1, pageSize = 10) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then((response) => {\r\n        return response.data;\r\n      });\r\n  },\r\n\r\n  getUserId(userId = 18052) {\r\n    return instance.get(`profile/${userId}`).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n\r\n  auth() {\r\n    return instance.get(`auth/me`).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n\r\n  login(email, password, captcha=null) {\r\n    return instance.post(`auth/login`, { email, password, captcha });\r\n  },\r\n\r\n  logout() {\r\n    return instance.delete(`auth/login`);\r\n  },\r\n\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n\r\n  unfollow(userId) {\r\n    return instance.delete(`follow/${userId}`).then((response) => {\r\n      return response.data;\r\n    });\r\n  },\r\n\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/` + userId);\r\n  },\r\n\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status`, { status: status });\r\n  },\r\n\r\n  savePhoto(photoFile) {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", photoFile);\r\n\r\n    return instance.put(`profile/photo`, formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/data\",\r\n      },\r\n    });\r\n  },\r\n\r\n  saveProfile(profile) {\r\n    return instance.put(`profile`, profile);\r\n  },\r\n\r\n  getCaptchaUrl(){\r\n    return instance.get(`security/get-captcha-url`);\r\n  }\r\n};\r\n","const SEND_MESSAGE = \"SEND_MESSAGE\";\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    {\r\n      id: 1,\r\n      name: \"Abror\",\r\n      ava: \"https://mtv.mtvnimages.com/uri/mgid:ao:image:mtv.com:131109?quality=0.8&format=jpg\",\r\n    },\r\n    {\r\n      id: 2,\r\n      name: \"Victoria\",\r\n      ava: \"https://avatars.mds.yandex.net/get-kinopoisk-image/1773646/18f7f0c4-e483-4cb8-a189-65072e680f52/300x450\",\r\n    },\r\n    {\r\n      id: 3,\r\n      name: \"Sveta\",\r\n      ava: \"https://image.shutterstock.com/image-photo/micro-peacock-feather-hd-imagebest-260nw-1127238599.jpg\",\r\n    },\r\n    {\r\n      id: 4,\r\n      name: \"Bill\",\r\n      ava: \"https://i.pinimg.com/originals/6d/35/d8/6d35d834fe1b42b4d85c91e4ddea52ff.jpg\",\r\n    },\r\n    {\r\n      id: 5,\r\n      name: \"Mark\",\r\n      ava: \"https://wonderfulengineering.com/wp-content/uploads/2014/10/wallpaper-photos-31.jpg\",\r\n    },\r\n    {\r\n      id: 6,\r\n      name: \"Steve\",\r\n      ava: \"http://images.unsplash.com/photo-1509079629765-8c81a0dfe49b?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max\",\r\n    },\r\n  ],\r\n  messages: [\r\n    { id: 1, message: \"Hi\" },\r\n    { id: 2, message: \"Whats going on\" },\r\n    { id: 3, message: \"WTF!!!\" },\r\n    { id: 4, message: \"Go!!!\" },\r\n    { id: 5, message: \"FaceToFace!!!\" },\r\n    { id: 6, message: \"Loser!!!\" },\r\n  ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      let body = action.newMessageBody;\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, { id: 7, message: body }],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n\r\n  return state;\r\n};\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody });\r\n\r\nexport default dialogsReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__253jd\",\"item\":\"Nav_item__Y3zec\",\"activeLink\":\"Nav_activeLink__3ydCh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userContainer\":\"Users_userContainer__1PJUm\",\"avatarBlock\":\"Users_avatarBlock___zrvc\",\"avatar\":\"Users_avatar__1kxud\",\"userInfoBlock\":\"Users_userInfoBlock__2iDdq\",\"loader\":\"Users_loader__2T_iO\",\"flwBtn\":\"Users_flwBtn__3Q7EH\"};","export default __webpack_public_path__ + \"static/media/logo.747599d7.png\";","import React from 'react';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from './Header.module.css';\r\nimport logo from \"../../assets/images/logo.png\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img src={logo} />\r\n\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth \r\n                ? <div>{props.login} <a onClick={props.logout}>Log out</a></div> \r\n                : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import { stopSubmit } from \"redux-form\";\r\nimport { API } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"samurai-network/auth/SET_USER_DATA\";\r\nconst GET_CAPTCHA_URL_SUCCESS = \"samurai-network/auth/GET_CAPTCHA_URL_SUCCESS\";\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isFetching: false,\r\n  isAuth: false,\r\n  captchaUrl: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n    case GET_CAPTCHA_URL_SUCCESS:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n  type: SET_USER_DATA,\r\n  payload: { userId, email, login, isAuth },\r\n});\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n  type: GET_CAPTCHA_URL_SUCCESS,\r\n  payload: { captchaUrl },\r\n});\r\n\r\nexport const authentication = () => async (dispatch) => {\r\n  let data = await API.auth();\r\n  if (data.resultCode === 0) {\r\n    let { id, email, login } = data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n};\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n  let response = await API.login(email, password, rememberMe, captcha);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(authentication());\r\n  } else {\r\n    if (response.data.resultCode === 10) {\r\n      dispatch(getCaptchaUrl());\r\n    }\r\n    let message =\r\n      response.data.messages.length > 0\r\n        ? response.data.messages[0]\r\n        : \"Some error!\";\r\n    dispatch(stopSubmit(\"login\", { _error: message }));\r\n  }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n  const response = await API.getCaptchaUrl();\r\n  const captchaUrl = response.data.url;\r\n\r\n  dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  let response = await API.logout();\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import React from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport Header from './Header';\r\nimport { setAuthUserData, logout } from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\n    \r\nexport default connect(mapStateToProps, { setAuthUserData, logout })(HeaderContainer);","import s from './Nav.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Nav = () => {\r\n    return(\r\n        <nav className={s.nav}>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/news\" activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/music\" activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/settings\" activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Nav;","import { useState } from \"react\";\r\nimport s from \"./Paginator.module.css\";\r\n\r\nlet Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 7 }) => {\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize)\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className={s.pagination}>\r\n      {portionNumber > 1 &&\r\n        <a className={s.movePaginator} onClick={() => { setPortionNumber(portionNumber - 1) }}>←</a>}\r\n      {pages\r\n        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map((p) => {\r\n          return (\r\n            <p onClick={(e) => { onPageChanged(p); }}\r\n              className={`${s.page} ${currentPage === p && s.active}`} key={p}>\r\n              {p}\r\n            </p>\r\n          );\r\n        })}\r\n      {portionCount > portionNumber &&\r\n        <a className={s.movePaginator} onClick={() => { setPortionNumber(portionNumber + 1) }}>→</a>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import s from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/images/empty.png\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow}) => {\r\n  return (\r\n    <div key={user.id} className={s.userContainer}>\r\n      <div className={s.avatarBlock}>\r\n        <div className={s.avatar}>\r\n          <NavLink to={'/profile/' + user.id}>\r\n            <img\r\n              src={user.photos.small != null ? user.photos.small : userPhoto}\r\n              alt=\"\"\r\n            />\r\n          </NavLink>\r\n        </div>\r\n        <div className={s.flwBtn}>\r\n          {user.followed\r\n            ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n              onClick={() => { unfollow(user.id) }}>Unfollow</button>\r\n            : <button disabled={followingInProgress.some(id => id === user.id)}\r\n              onClick={() => { follow(user.id) }}>Follow </button>}\r\n        </div>\r\n      </div>\r\n      <div className={s.userInfoBlock}>\r\n        <div className={s.personInfo}>\r\n          <h4 className={s.userName}>{user.name}</h4>\r\n          <p className={s.status}>{user.status}</p>\r\n        </div>\r\n        <div className={s.regionInfo}>\r\n          <p className={s.country}>{\"u.location.country\"}</p>\r\n          <p className={s.city}>{\"u.location.city\"}</p>\r\n        </div>\r\n      </div>\r\n    </div>)\r\n};\r\n\r\nexport default User;\r\n","import Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({ currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props }) => {\r\n  return (\r\n    <div>\r\n      <Paginator currentPage={currentPage} onPageChanged={onPageChanged} totalItemsCount={totalUsersCount} pageSize={pageSize} />\r\n      {users.map((u) =>\r\n        <User\r\n          followingInProgress={props.followingInProgress}\r\n          user={u}\r\n          unfollow={props.unfollow}\r\n          follow={props.follow}\r\n          key={u.id} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n  return items.map((u) => {\r\n    if (u[objPropName] === itemId) {\r\n      return { ...u, ...newObjProps};\r\n    }\r\n    return u;\r\n  });\r\n};\r\n","import { API } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../support/object-helpers\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 7,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n      };\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,        \r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n      };\r\n\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: [...action.users],\r\n      };\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage,\r\n      };\r\n\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.count,\r\n      };\r\n\r\n    case TOGGLE_IS_FETCHING:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching,\r\n      };\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id != action.userId),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (users) => ({ type: SET_USERS, users });\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage,\r\n});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count: totalUsersCount,\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n  dispatch(toggleIsFetching(true));\r\n  dispatch(setCurrentPage(page));\r\n  let data = await API.getUsers(page, pageSize);\r\n  dispatch(toggleIsFetching(false));\r\n  dispatch(setUsers(data.items));\r\n  dispatch(setTotalUsersCount(data.totalCount));\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  let data = await apiMethod(userId);\r\n\r\n  if (data.resultCode === 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n  followUnfollowFlow(dispatch, userId, API.follow.bind(API), followSuccess);\r\n};\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n  followUnfollowFlow(dispatch, userId, API.unfollow.bind(API), unfollowSuccess);\r\n};\r\n\r\nexport default usersReducer;\r\n","export const getUsers = (state) => {\r\n  return state.usersPage.users;\r\n};\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n};","import React from \"react\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { connect } from \"react-redux\";\r\nimport { follow, unfollow, setCurrentPage, toggleFollowingProgress, requestUsers } from \"../../redux/users-reducer\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { getPageSize, getUsers, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from \"../../redux/user-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n\r\n  componentDidMount() {\r\n    const {currentPage, pageSize} = this.props;\r\n    this.props.getUsers(currentPage, pageSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    const pageSize = this.props;\r\n    this.props.getUsers(pageNumber, pageSize);\r\n  }\r\n\r\n\r\n  render() {\r\n    return <>\r\n      {this.props.isFetching ? <Preloader /> : null}\r\n      <Users totalUsersCount={this.props.totalUsersCount}\r\n        pageSize={this.props.pageSize}\r\n        currentPage={this.props.currentPage}\r\n        onPageChanged={this.onPageChanged}\r\n        follow={this.props.follow}\r\n        unfollow={this.props.unfollow}\r\n        users={this.props.users}\r\n        followingInProgress={this.props.followingInProgress} />\r\n    </>\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n  };\r\n};\r\n\r\nexport default\r\n  compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps,\r\n      { follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers }\r\n    )\r\n  )(UsersContainer)\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { reduxForm } from 'redux-form';\r\nimport { maxLengthCreator, required } from '../../support/validators';\r\nimport { Input, createField } from '../common/FormsControls/FormsControls';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport s from './Login.module.css';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\n\r\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\r\n    return <form onClick={handleSubmit} className={s.loginform}>\r\n        {createField(\"Email\", \"email\", [required, maxLength30], Input, \"text\", s.input)}\r\n        {createField(\"Password\", \"password\", [required, maxLength30], Input, \"password\", s.input)}\r\n\r\n        {captchaUrl && <img src={captchaUrl} />}\r\n        {captchaUrl && createField(\"Symbols from image\", \"captcha\", [required], Input, {}, s.input)}\r\n\r\n        {error && <div className={s.formSummaryError}>\r\n            {error}\r\n        </div>}\r\n        <div>\r\n            <button className={s.button}>Login</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.captcha)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"profile\"} />\r\n    }\r\n\r\n    return <div className={s.formWrapper}>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, { login })(Login);","import { authentication } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\n\r\nlet initialState = {\r\n  initialized: false,\r\n  globalError: null\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(authentication());\r\n  Promise.all([promise]).then(() => {\r\n    dispatch(initializedSuccess());\r\n  });\r\n};\r\n\r\nexport default appReducer;\r\n","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  usersPage: usersReducer,\r\n  sidebar: sidebarReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport { Suspense } from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n  return (props) => {\r\n    return (\r\n      <Suspense fallback={<Preloader />}>\r\n        <Component {...props} />;\r\n      </Suspense>\r\n    );\r\n  };\r\n};\r\n","import \"./App.css\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Nav from \"./components/Navbar/Nav\";\nimport {\n  BrowserRouter,\n  Redirect,\n  Route,\n  Switch,\n  withRouter,\n} from \"react-router-dom\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport Login from \"./components/Login/Login\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { initializeApp } from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from \"./redux/redux-store\";\nimport { Provider } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { withSuspense } from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(() =>\n  import(\"./components/Dialogs/DialogsContainer\")\n);\nconst ProfileContainer = React.lazy(() =>\n  import(\"./components/Profile/ProfileContainer\")\n);\n\nclass App extends React.Component {\n  catchAllUnhandledErrors = (reason, promise) => {\n    console.error(\"Error!\");\n  };\n  componentDidMount() {\n    this.props.initializeApp();\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n  }\n\n  componentWillUnmount(){\n    window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />;\n    }\n\n    return (\n      <div className=\"appWrapper\">\n        <HeaderContainer />\n        <Nav />\n        <div className=\"appWrapperContent\">\n          <Switch>\n            <Route exact path=\"/\" render={() => <Redirect to={\"/profile\"} />} />\n            <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)} />\n            <Route\n              path=\"/profile/:userId?\"\n              render={withSuspense(ProfileContainer)}\n            />\n            <Route path=\"/users\" render={() => <UsersContainer />} />\n            <Route path=\"/login\" render={() => <Login />} />\n            <Route\n              path=\"*\"\n              render={() => (\n                <div>\n                  <h1 style={{ textAlign: \"center\" }}>\n                    Ooops! You got lost - 404 ☻\n                  </h1>\n                </div>\n              )}\n            />\n          </Switch>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized,\n});\n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp })\n)(App);\n\nconst MainApp = (props) => {\n  return (\n    <BrowserRouter>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </BrowserRouter>\n  );\n};\n\nexport default MainApp;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport MainApp from \"./App\";\nimport \"./index.css\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(<MainApp/>, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formWrapper\":\"Login_formWrapper__2Dq-f\",\"input\":\"Login_input__8GRKl\",\"rem\":\"Login_rem__15N_X\",\"button\":\"Login_button__2hNVC\",\"formSummaryError\":\"Login_formSummaryError__wR2Gj\"};","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport s from \"./FormsControls.module.css\";\r\n\r\nconst FormControl = ({ input, meta: { touched, error }, child, ...props }) => {\r\n  const hasError = touched && error;\r\n  return (\r\n    <div className={`${s.formControl} ${hasError ? s.error : \"\"}`}>\r\n      <div>{props.children}</div>\r\n      {hasError && <span>{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n  const { input, meta, child, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport const Input = (props) => {\r\n  const { input, meta, child, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      {\" \"}\r\n      <input {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport const createField = (\r\n  placeholder,\r\n  name,\r\n  validators,\r\n  component,\r\n  type,\r\n  className\r\n) => (\r\n  <div>\r\n    <Field\r\n      name={name}\r\n      component={component}\r\n      validate={validators}\r\n      className={className}\r\n      type={type}\r\n      placeholder={placeholder}\r\n    />\r\n  </div>\r\n);\r\n","export default __webpack_public_path__ + \"static/media/loader.a5e01cf9.svg\";","import s from \"../../Users/Users.module.css\";\r\nimport preloader from \"../../../assets/images/loader.svg\";\r\n\r\nlet Preloader = (props) => {\r\n  return <img className={s.loader} src={preloader} />;\r\n};\r\n\r\nexport default Preloader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Paginator_pagination__36r_8\",\"page\":\"Paginator_page__3zHdO\",\"active\":\"Paginator_active__2n6yz\",\"movePaginator\":\"Paginator_movePaginator__L6tGR\"};","export const required = (value) => {\r\n  if (value) return undefined;\r\n  return \"Field is required\";\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value && value.length > maxLength)\r\n    return `Max length is ${maxLength} symbols`;\r\n  return undefined;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2uFyU\",\"loginBlock\":\"Header_loginBlock__e8sqB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__T5Ayk\",\"error\":\"FormsControls_error__1lCAT\"};","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component{\r\n        render(){\r\n            if(!this.props.isAuth) return <Redirect to={'/Login'} />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    \r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}","import { stopSubmit } from \"redux-form\";\r\nimport { API } from \"../api/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst DELETE_POST = \"DELETE_POST\";\r\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\";\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, post: \"Hi, how are you\", likesCount: 10 },\r\n    { id: 2, post: \"Its my first post\", likesCount: 25 },\r\n  ],\r\n  profile: null,\r\n  status: \"\",\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = {\r\n        id: 5,\r\n        post: action.newPostBody,\r\n        likesCount: 10,\r\n      };\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n      };\r\n    }\r\n    case SET_USER_PROFILE: {\r\n      return { ...state, profile: action.profile };\r\n    }\r\n    case SET_STATUS: {\r\n      return { ...state, status: action.status };\r\n    }\r\n    case DELETE_POST: {\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter((p) => p.id != action.postId),\r\n      };\r\n    }\r\n    case SAVE_PHOTO_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        profile: { ...state.profile, photos: action.photos },\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n\r\n  return state;\r\n};\r\n\r\nexport const addPostActionCreator = (newPostBody) => ({\r\n  type: ADD_POST,\r\n  newPostBody,\r\n});\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId });\r\nexport const savePhotoSuccess = (photos) => ({\r\n  type: SAVE_PHOTO_SUCCESS,\r\n  photos,\r\n});\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE,\r\n  profile,\r\n});\r\nexport const putUserId = (userId) => async (dispatch) => {\r\n  let data = await API.getUserId(userId);\r\n  dispatch(setUserProfile(data));\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  let response = await API.getStatus(userId);\r\n  dispatch(setStatus(response.data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  try {\r\n    let data = await API.updateStatus(status);\r\n    if (data.resultCode === 0) {\r\n      dispatch(setStatus(status));\r\n    }\r\n  } catch (error) {\r\n    if (error.response.status > 400 && error.response.status < 500) {\r\n      console.error(\"Клиентская ошибка\");\r\n    } else {\r\n      console.error(\"Ошибка сервера\");\r\n    }\r\n  }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n  let data = await API.savePhoto(file);\r\n  if (data.resultCode === 0) {\r\n    dispatch(savePhotoSuccess(data.data.photos));\r\n  }\r\n};\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  const data = await API.saveProfile(profile);\r\n  if (data.resultCode === 0) {\r\n    dispatch(putUserId(userId));\r\n  } else {\r\n    dispatch(stopSubmit(\"edit-profile\", { _error: data.data.messages[0] }));\r\n    return Promise.reject(data.data.messages[0]);\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n"],"sourceRoot":""}