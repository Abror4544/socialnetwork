{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","className","s","statusText","onChange","e","currentTarget","value","onBlur","updateStatus","autoFocus","statusInput","ProfileInfo","profile","Preloader","avatar","main","profilePhoto","src","photos","large","userPhoto","alt","isOwner","htmlFor","chooseFile","chooseBase","target","files","length","savePhoto","id","type","info","fullName","aboutMe","contacts","facebook","website","vk","twitter","instagram","youtube","github","lookingForAJob","lookingForAJobDescription","Post","item","message","likeCount","MyPosts","React","memo","postsElements","posts","map","p","post","likesCount","myPosts","AddNewPostForm","onSubmit","values","addPost","newPostBody","maxLength30","maxLengthCreator","reduxForm","form","handleSubmit","myPost","Field","name","component","Textarea","placeholder","textarea","validate","required","MyPostsContainer","connect","state","profilePage","newPostText","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","this","match","params","loggedUserId","putUserId","getStatus","refreshProfile","prevProps","prevState","snapshot","Component","compose","auth","isAuth","setUserProfile","withRouter","withAuthRedirect"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,QAAU,6BAA6B,KAAO,0BAA0B,OAAS,4BAA4B,KAAO,0BAA0B,aAAe,kCAAkC,WAAa,gCAAgC,KAAO,0BAA0B,YAAc,iCAAiC,WAAa,gCAAgC,WAAa,kC,oBCAxYD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,SAAW,0BAA0B,OAAS,wBAAwB,MAAQ,yB,oBCAnID,EAAOC,QAAU,CAAC,KAAO,qB,sJCyCVC,EAvCgB,SAACC,GAAW,IAAD,EAERC,oBAAS,GAFD,mBAEjCC,EAFiC,KAEvBC,EAFuB,OAGZF,mBAASD,EAAMI,QAHH,mBAGjCA,EAHiC,KAGzBC,EAHyB,KAMtCC,qBAAU,WACND,EAAUL,EAAMI,UACjB,CAACJ,EAAMI,SAeV,OACI,iCACMF,GACE,qBAAKK,cAhBQ,WACrBJ,GAAY,IAeJ,SACI,mBAAGK,UAAWC,IAAEC,WAAhB,SAA6BV,EAAMI,QAAU,YAGpDF,GACG,8BACI,0BAAUS,SAbH,SAACC,GACpBP,EAAUO,EAAEC,cAAcC,QAYsBC,OAlBzB,WACvBZ,GAAY,GACZH,EAAMgB,aAAaZ,IAgByDa,WAAW,EAAMT,UAAWC,IAAES,YAAaJ,MAAOV,UCavHe,EA3CK,SAACnB,GAEjB,IAAKA,EAAMoB,QACP,OAAO,cAACC,EAAA,EAAD,IASX,OACI,8BACI,sBAAKb,UAAWC,IAAEa,OAAlB,UACI,sBAAKd,UAAWC,IAAEc,KAAlB,UACI,sBAAKf,UAAWC,IAAEe,aAAlB,UACI,qBAAKC,IAAKzB,EAAMoB,QAAQM,OAAOC,OAASC,IAAWC,IAAI,KACtD7B,EAAM8B,SAAW,uBAAOC,QAAQ,cAAcvB,UAAWC,IAAEuB,WAA1C,2BAItB,uBAAOxB,UAAWC,IAAEwB,WAAYtB,SAhBpB,SAACC,GACrBA,EAAEsB,OAAOC,MAAMC,QACfpC,EAAMqC,UAAUzB,EAAEsB,OAAOC,MAAM,KAcwCG,GAAI,cAAeC,KAAK,SACvF,cAAC,EAAD,CAAwBnC,OAAQJ,EAAMI,OAAQY,aAAchB,EAAMgB,kBAEtE,sBAAKR,UAAWC,IAAE+B,KAAlB,UACI,uCAAS,+BAAOxC,EAAMoB,QAAQqB,cAC9B,wCAAU,+BAAOzC,EAAMoB,QAAQsB,aAC/B,2CAAa,+BAAO1C,EAAMoB,QAAQuB,SAASC,cAC3C,0CAAY,+BAAO5C,EAAMoB,QAAQuB,SAASE,aAC1C,qCAAO,+BAAO7C,EAAMoB,QAAQuB,SAASG,QACrC,0CAAY,+BAAO9C,EAAMoB,QAAQuB,SAASI,aAC1C,4CAAc,+BAAO/C,EAAMoB,QAAQuB,SAASK,eAC5C,0CAAY,+BAAOhD,EAAMoB,QAAQuB,SAASM,aAC1C,yCAAW,+BAAOjD,EAAMoB,QAAQuB,SAASO,YACzC,sCAAQ,gCAAwC,IAAjClD,EAAMoB,QAAQ+B,eAA0B,gEAAgB,wFACvE,kDAAoB,+BAAOnD,EAAMoB,QAAQgC,wC,qFC5B9CC,EAXF,SAACrD,GACV,OACI,sBAAKQ,UAAWC,IAAE6C,KAAlB,UACI,qBAAK7B,IAAI,kEADb,IACgFzB,EAAMuD,QAClF,8BACI,0CAAY,4BAAIvD,EAAMwD,qBCAhCC,EAAUC,IAAMC,MAAK,SAAC3D,GAE1B,IAAI4D,EAAgB5D,EAAM6D,MAAMC,KAAI,SAACC,GAAD,OAClC,cAAC,EAAD,CAAMR,QAASQ,EAAEC,KAAMR,UAAWO,EAAEE,gBAQtC,OACE,sBAAKzD,UAAWC,IAAEyD,QAAlB,UACE,0CACA,cAACC,EAAD,CAAgBC,SAPJ,SAACC,GACfrE,EAAMsE,QAAQD,EAAOE,gBAOnB,qBAAK/D,UAAWC,IAAEoD,MAAlB,SAA0BD,UAK1BY,EAAcC,YAAiB,IAW/BN,EAAiBO,YAAU,CAC/BC,KAAM,WADeD,EATJ,SAAC1E,GAClB,OACE,uBAAMoE,SAAUpE,EAAM4E,aAAcpE,UAAWC,IAAEoE,OAAjD,UACE,cAACC,EAAA,EAAD,CAAOC,KAAK,cAAcC,UAAWC,IAAUC,YAAa,eAAgB1E,UAAWC,IAAE0E,SAAUC,SAAU,CAACC,IAAUb,KACxH,oDAQSf,ICnBA6B,EAFUC,aAfH,SAACC,GACnB,MAAO,CACH3B,MAAO2B,EAAMC,YAAY5B,MACzB6B,YAAaF,EAAMC,YAAYC,gBAId,SAACC,GACtB,MAAO,CACHrB,QAAS,SAACC,GACNoB,EAASC,YAAqBrB,QAKjBgB,CAA6C9B,GCRvDoC,EATC,SAAC7F,GACb,OACI,gCACI,cAAC,EAAD,CAAaqC,UAAWrC,EAAMqC,UAAWP,QAAS9B,EAAM8B,QAASV,QAASpB,EAAMoB,QAAShB,OAAQJ,EAAMI,OAAQY,aAAchB,EAAMgB,eACnI,cAAC,EAAD,Q,uBCCN8E,E,oKAEF,WACI,IAAIC,EAASC,KAAKhG,MAAMiG,MAAMC,OAAOH,OAChCA,IACDA,EAASC,KAAKhG,MAAMmG,cAExBH,KAAKhG,MAAMoG,UAAUL,GACrBC,KAAKhG,MAAMqG,UAAUN,K,+BAGzB,WACIC,KAAKM,mB,gCAGT,SAAmBC,EAAWC,EAAWC,GACjCT,KAAKhG,MAAMiG,MAAMC,OAAOH,QAAUQ,EAAUN,MAAMC,OAAOH,QACzDC,KAAKM,mB,oBAIb,WACI,OACI,cAAC,EAAD,2BAAaN,KAAKhG,OAAlB,IAAyB8B,SAAUkE,KAAKhG,MAAMiG,MAAMC,OAAOH,OAAQ3E,QAAS4E,KAAKhG,MAAMoB,QAAShB,OAAQ4F,KAAKhG,MAAMI,OAAQY,aAAcgF,KAAKhG,MAAMgB,aAAcqB,UAAW2D,KAAKhG,MAAMqC,iB,GAvBrKqB,IAAMgD,WAoCjCC,sBACIpB,aATc,SAACC,GAAD,MAAY,CAC9BpE,QAASoE,EAAMC,YAAYrE,QAC3BhB,OAAQoF,EAAMC,YAAYrF,OAC1B+F,aAAcX,EAAMoB,KAAKb,OACzBc,OAAQrB,EAAMoB,KAAKC,UAKU,CAAEC,mBAAgBV,cAAWC,cAAWrF,iBAAcqB,gBAC/E0E,IACAC,IAHJL,CAIEb","file":"static/js/3.91cca1e8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainimg\":\"ProfileInfo_mainimg__3VV6o\",\"item\":\"ProfileInfo_item__3Xkz7\",\"avatar\":\"ProfileInfo_avatar__1XxrF\",\"main\":\"ProfileInfo_main__2zhmf\",\"profilePhoto\":\"ProfileInfo_profilePhoto__3tqjv\",\"chooseFile\":\"ProfileInfo_chooseFile__3dVOu\",\"info\":\"ProfileInfo_info__N5QMX\",\"statusInput\":\"ProfileInfo_statusInput__15yWZ\",\"statusText\":\"ProfileInfo_statusText__2UgT0\",\"chooseBase\":\"ProfileInfo_chooseBase__3reda\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__2Frl-\",\"textarea\":\"MyPosts_textarea__20W2w\",\"myPost\":\"MyPosts_myPost__3X_sa\",\"posts\":\"MyPosts_posts__1rKi6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1SNgQ\"};","import React, { useState, useEffect } from 'react';\r\nimport s from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status);\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div onDoubleClick={activateEditMode}>\r\n                    <p className={s.statusText}>{props.status || \"Empty\"}</p>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <textarea onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true} className={s.statusInput} value={status} />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import s from './ProfileInfo.module.css';\r\nimport userPhoto from \"../../../assets/images/empty.png\";\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n    if (!props.profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            props.savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.avatar}>\r\n                <div className={s.main}>\r\n                    <div className={s.profilePhoto}>\r\n                        <img src={props.profile.photos.large || userPhoto} alt=\"\" />\r\n                        {props.isOwner && <label htmlFor=\"file-upload\" className={s.chooseFile}>\r\n                            Change ava\r\n                        </label>}\r\n                    </div>\r\n                    <input className={s.chooseBase} onChange={onMainPhotoSelected} id={\"file-upload\"} type=\"file\" />\r\n                    <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus} />\r\n                </div>\r\n                <div className={s.info}>\r\n                    <p>Name: <span>{props.profile.fullName}</span></p>\r\n                    <p>About: <span>{props.profile.aboutMe}</span></p>\r\n                    <p>Facebook: <span>{props.profile.contacts.facebook}</span></p>\r\n                    <p>Website: <span>{props.profile.contacts.website}</span></p>\r\n                    <p>VK: <span>{props.profile.contacts.vk}</span></p>\r\n                    <p>Twitter: <span>{props.profile.contacts.twitter}</span></p>\r\n                    <p>Instagram: <span>{props.profile.contacts.instagram}</span></p>\r\n                    <p>Youtube: <span>{props.profile.contacts.youtube}</span></p>\r\n                    <p>Github: <span>{props.profile.contacts.github}</span></p>\r\n                    <p>Job: <span>{props.profile.lookingForAJob === true ? \"Ищет работу\" : \"Работает где-то\"}</span></p>\r\n                    <p>Job description: <span>{props.profile.lookingForAJobDescription}</span></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo;","import s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <img src=\"https://www.kinonews.ru/insimgs/2021/newsimg/newsimg98663.jpg\"/> {props.message}\r\n            <div>\r\n                <span>Likes <b>{props.likeCount}</b></span>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default Post;","import React from \"react\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport { maxLengthCreator, required } from \"../../../support/validators\";\r\nimport { Textarea } from \"../../common/FormsControls/FormsControls.js\";\r\nimport s from \"./MyPosts.module.css\";\r\nimport Post from \"./Post/Post\";\r\n\r\nconst MyPosts = React.memo((props) => {\r\n\r\n  let postsElements = props.posts.map((p) => (\r\n    <Post message={p.post} likeCount={p.likesCount} />\r\n  ));\r\n\r\n\r\n  let onAddPost = (values) => {\r\n    props.addPost(values.newPostBody)\r\n  };\r\n\r\n  return (\r\n    <div className={s.myPosts}>\r\n      <h2>My posts</h2>\r\n      <AddNewPostForm onSubmit={onAddPost} />\r\n      <div className={s.posts}>{postsElements}</div>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst maxLength30 = maxLengthCreator(30)\r\n\r\nconst AddNewPost = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit} className={s.myPost}>\r\n      <Field name=\"newPostBody\" component={Textarea} placeholder={\"Post message\"} className={s.textarea} validate={[required, maxLength30]} />\r\n      <button>Add post</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst AddNewPostForm = reduxForm({\r\n  form: \"newpost\"\r\n})(AddNewPost)\r\nexport default MyPosts;\r\n","import React from 'react';\r\nimport {addPostActionCreator} from \"../../../redux/profile-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport MyPosts from \"./MyPosts\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostBody) => {\r\n            dispatch(addPostActionCreator(newPostBody));\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;","import ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo savePhoto={props.savePhoto} isOwner={props.isOwner} profile={props.profile} status={props.status} updateStatus={props.updateStatus} />\r\n            <MyPostsContainer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from \"react-redux\";\r\nimport { setUserProfile, putUserId, getStatus, updateStatus, savePhoto } from \"../../redux/profile-reducer\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.loggedUserId;\r\n        }\r\n        this.props.putUserId(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId != prevProps.match.params.userId) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} isOwner={!this.props.match.params.userId} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus} savePhoto={this.props.savePhoto} />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    loggedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default\r\n    compose(\r\n        connect(mapStateToProps, { setUserProfile, putUserId, getStatus, updateStatus, savePhoto }),\r\n        withRouter,\r\n        withAuthRedirect\r\n    )(ProfileContainer)"],"sourceRoot":""}