(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{293:function(e,t,s){e.exports={mainimg:"ProfileInfo_mainimg__3VV6o",item:"ProfileInfo_item__3Xkz7",avatar:"ProfileInfo_avatar__1XxrF",main:"ProfileInfo_main__2zhmf",profilePhoto:"ProfileInfo_profilePhoto__3tqjv",chooseFile:"ProfileInfo_chooseFile__3dVOu",info:"ProfileInfo_info__N5QMX",statusInput:"ProfileInfo_statusInput__15yWZ",statusText:"ProfileInfo_statusText__2UgT0",chooseBase:"ProfileInfo_chooseBase__3reda"}},294:function(e,t,s){e.exports={myPosts:"MyPosts_myPosts__2Frl-",textarea:"MyPosts_textarea__20W2w",myPost:"MyPosts_myPost__3X_sa",posts:"MyPosts_posts__1rKi6"}},295:function(e,t,s){e.exports={item:"Post_item__1SNgQ"}},297:function(e,t,s){"use strict";s.r(t);var o=s(3),a=s(29),i=s(30),n=s(32),c=s(31),r=s(0),l=s.n(r),p=s(293),u=s.n(p),j=s(109),f=s(42),h=s(132),b=s(1),d=function(e){var t=Object(r.useState)(!1),s=Object(h.a)(t,2),o=s[0],a=s[1],i=Object(r.useState)(e.status),n=Object(h.a)(i,2),c=n[0],l=n[1];Object(r.useEffect)((function(){l(e.status)}),[e.status]);return Object(b.jsxs)("div",{children:[!o&&Object(b.jsx)("div",{onDoubleClick:function(){a(!0)},children:Object(b.jsx)("p",{className:u.a.statusText,children:e.status||"Empty"})}),o&&Object(b.jsx)("div",{children:Object(b.jsx)("textarea",{onChange:function(e){l(e.currentTarget.value)},onBlur:function(){a(!1),e.updateStatus(c)},autoFocus:!0,className:u.a.statusInput,value:c})})]})},O=function(e){if(!e.profile)return Object(b.jsx)(f.a,{});return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:u.a.avatar,children:[Object(b.jsxs)("div",{className:u.a.main,children:[Object(b.jsxs)("div",{className:u.a.profilePhoto,children:[Object(b.jsx)("img",{src:e.profile.photos.large||j.a,alt:""}),e.isOwner&&Object(b.jsx)("label",{htmlFor:"file-upload",className:u.a.chooseFile,children:"Change ava"})]}),Object(b.jsx)("input",{className:u.a.chooseBase,onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])},id:"file-upload",type:"file"}),Object(b.jsx)(d,{status:e.status,updateStatus:e.updateStatus})]}),Object(b.jsxs)("div",{className:u.a.info,children:[Object(b.jsxs)("p",{children:["Name: ",Object(b.jsx)("span",{children:e.profile.fullName})]}),Object(b.jsxs)("p",{children:["About: ",Object(b.jsx)("span",{children:e.profile.aboutMe})]}),Object(b.jsxs)("p",{children:["Facebook: ",Object(b.jsx)("span",{children:e.profile.contacts.facebook})]}),Object(b.jsxs)("p",{children:["Website: ",Object(b.jsx)("span",{children:e.profile.contacts.website})]}),Object(b.jsxs)("p",{children:["VK: ",Object(b.jsx)("span",{children:e.profile.contacts.vk})]}),Object(b.jsxs)("p",{children:["Twitter: ",Object(b.jsx)("span",{children:e.profile.contacts.twitter})]}),Object(b.jsxs)("p",{children:["Instagram: ",Object(b.jsx)("span",{children:e.profile.contacts.instagram})]}),Object(b.jsxs)("p",{children:["Youtube: ",Object(b.jsx)("span",{children:e.profile.contacts.youtube})]}),Object(b.jsxs)("p",{children:["Github: ",Object(b.jsx)("span",{children:e.profile.contacts.github})]}),Object(b.jsxs)("p",{children:["Job: ",Object(b.jsx)("span",{children:!0===e.profile.lookingForAJob?"\u0418\u0449\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443":"\u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0433\u0434\u0435-\u0442\u043e"})]}),Object(b.jsxs)("p",{children:["Job description: ",Object(b.jsx)("span",{children:e.profile.lookingForAJobDescription})]})]})]})})},m=s(99),x=s(12),_=s(90),P=s(131),g=s(68),v=s(52),y=s(294),I=s.n(y),w=s(295),k=s.n(w),N=function(e){return Object(b.jsxs)("div",{className:k.a.item,children:[Object(b.jsx)("img",{src:"https://www.kinonews.ru/insimgs/2021/newsimg/newsimg98663.jpg"})," ",e.message,Object(b.jsx)("div",{children:Object(b.jsxs)("span",{children:["Likes ",Object(b.jsx)("b",{children:e.likeCount})]})})]})},S=l.a.memo((function(e){var t=e.posts.map((function(e){return Object(b.jsx)(N,{message:e.post,likeCount:e.likesCount})}));return Object(b.jsxs)("div",{className:I.a.myPosts,children:[Object(b.jsx)("h2",{children:"My posts"}),Object(b.jsx)(C,{onSubmit:function(t){e.addPost(t.newPostBody)}}),Object(b.jsx)("div",{className:I.a.posts,children:t})]})})),F=Object(g.a)(30),C=Object(P.a)({form:"newpost"})((function(e){return Object(b.jsxs)("form",{onSubmit:e.handleSubmit,className:I.a.myPost,children:[Object(b.jsx)(_.a,{name:"newPostBody",component:v.b,placeholder:"Post message",className:I.a.textarea,validate:[g.b,F]}),Object(b.jsx)("button",{children:"Add post"})]})})),M=S,T=Object(x.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(m.a)(t))}}}))(M),U=function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)(O,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(b.jsx)(T,{})]})},A=s(11),B=s(9),J=s(98),D=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.loggedUserId),this.props.putUserId(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(b.jsx)(U,Object(o.a)(Object(o.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),s}(l.a.Component);t.default=Object(B.d)(Object(x.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,loggedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{setUserProfile:m.f,putUserId:m.d,getStatus:m.c,updateStatus:m.g,savePhoto:m.e}),A.f,J.a)(D)}}]);
//# sourceMappingURL=3.91cca1e8.chunk.js.map