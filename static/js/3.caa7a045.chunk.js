(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{293:function(e,t,s){e.exports={mainimg:"ProfileInfo_mainimg__3VV6o",item:"ProfileInfo_item__3Xkz7",avatar:"ProfileInfo_avatar__1XxrF",main:"ProfileInfo_main__2zhmf",profilePhoto:"ProfileInfo_profilePhoto__3tqjv",chooseFile:"ProfileInfo_chooseFile__3dVOu",info:"ProfileInfo_info__N5QMX",title:"ProfileInfo_title__1axYb",statusInput:"ProfileInfo_statusInput__15yWZ",statusText:"ProfileInfo_statusText__2UgT0",chooseBase:"ProfileInfo_chooseBase__3reda",contacts:"ProfileInfo_contacts__1-DYJ",editProfileBtn:"ProfileInfo_editProfileBtn__2L9Wm",editProfileBtnCancel:"ProfileInfo_editProfileBtnCancel__1i2oD",animate1:"ProfileInfo_animate1__3TN4M",animate2:"ProfileInfo_animate2__1osNZ",animate3:"ProfileInfo_animate3__36p6f",animate4:"ProfileInfo_animate4__LutIL"}},294:function(e,t,s){e.exports={myPosts:"MyPosts_myPosts__2Frl-",textarea:"MyPosts_textarea__20W2w",myPost:"MyPosts_myPost__3X_sa",posts:"MyPosts_posts__1rKi6"}},295:function(e,t,s){e.exports={item:"Post_item__1SNgQ"}},297:function(e,t,s){"use strict";s.r(t);var a=s(3),o=s(29),n=s(30),i=s(32),c=s(31),r=s(0),l=s.n(r),j=s(100),u=s(293),f=s.n(u),p=s(110),b=s(42),d=s(1),h=function(e){var t=Object(r.useState)(!1),s=Object(j.a)(t,2),a=s[0],o=s[1],n=Object(r.useState)(e.status),i=Object(j.a)(n,2),c=i[0],l=i[1];Object(r.useEffect)((function(){l(e.status)}),[e.status]);return Object(d.jsxs)("div",{children:[!a&&Object(d.jsx)("div",{onDoubleClick:function(){o(!0)},children:Object(d.jsx)("p",{className:f.a.statusText,children:e.status||"Empty"})}),a&&Object(d.jsx)("div",{children:Object(d.jsx)("textarea",{onChange:function(e){l(e.currentTarget.value)},onBlur:function(){o(!1),e.updateStatus(c)},autoFocus:!0,className:f.a.statusInput,value:c})})]})},O=s(51),m=s(132),x=Object(m.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,s=e.offEditMode;return Object(d.jsxs)("form",{className:f.a.info,onSubmit:t,children:[Object(d.jsxs)("div",{className:f.a.infoBlock,children:[Object(d.jsx)("p",{className:f.a.title,children:"Info\u263b"}),Object(d.jsxs)("p",{children:["Name: ",Object(O.c)("Name","fullName",[],O.a)]}),Object(d.jsxs)("p",{children:["About: ",Object(d.jsx)("span",{children:Object(O.c)("About me...","aboutMe",[],O.b)})]}),Object(d.jsxs)("p",{children:["Looking for a job: ",Object(d.jsx)("span",{children:Object(O.c)("","lookingForAJob",[],O.a,"checkbox")})]}),Object(d.jsxs)("p",{children:["My professional skills: ",Object(d.jsx)("span",{children:Object(O.c)("Type here mf...","lookingForAJobDescription",[],O.b)})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("button",{className:f.a.editProfileBtn,children:[Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),"Save"]}),Object(d.jsxs)("button",{type:"button",className:(f.a.editProfileBtn,f.a.editProfileBtnCancel),onClick:s,children:[Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),"Cancel"]})]})]})})),_=function(e){var t=e.profile,s=e.isOwner,a=e.goToEditMode;return Object(d.jsxs)("div",{className:f.a.info,children:[Object(d.jsxs)("div",{className:f.a.infoBlock,children:[Object(d.jsx)("p",{className:f.a.title,children:"Info\u263b"}),Object(d.jsxs)("p",{children:["Name: ",Object(d.jsx)("span",{children:t.fullName})]}),Object(d.jsxs)("p",{children:["About: ",Object(d.jsx)("span",{children:t.aboutMe})]}),Object(d.jsxs)("p",{children:["Job: ",Object(d.jsx)("span",{children:!0===t.lookingForAJob?"\u0418\u0449\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443":"\u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0433\u0434\u0435-\u0442\u043e"})]}),Object(d.jsxs)("p",{children:["Job description: ",Object(d.jsx)("span",{children:t.lookingForAJobDescription})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:f.a.title,children:"Contacts\u263b"}),Object.keys(t.contacts).map((function(e){return Object(d.jsx)(P,{contactTitle:e,contactValue:t.contacts[e]},e)}))]}),s&&Object(d.jsx)("div",{children:Object(d.jsxs)("button",{className:f.a.editProfileBtn,onClick:a,children:[Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),"Edit my profile"]})})]})},P=function(e){var t=e.contactTitle,s=e.contactValue;return Object(d.jsxs)("p",{className:f.a.contacts,children:[t,": ",s]})},v=function(e){var t=Object(r.useState)(!1),s=Object(j.a)(t,2),a=s[0],o=s[1];if(!e.profile)return Object(d.jsx)(b.a,{});return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:f.a.avatar,children:[Object(d.jsxs)("div",{className:f.a.main,children:[Object(d.jsxs)("div",{className:f.a.profilePhoto,children:[Object(d.jsx)("img",{src:e.profile.photos.large||p.a,alt:""}),e.isOwner&&Object(d.jsx)("label",{htmlFor:"file-upload",className:f.a.chooseFile,children:"Change ava"})]}),Object(d.jsx)("input",{className:f.a.chooseBase,onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])},id:"file-upload",type:"file"}),Object(d.jsx)(h,{status:e.status,updateStatus:e.updateStatus})]}),a?Object(d.jsx)(x,{initialValues:e.profile,profile:e.profile,onSubmit:function(t){e.saveProfile(t),o(!1)},offEditMode:function(){o(!1)}}):Object(d.jsx)(_,{goToEditMode:function(){o(!0)},profile:e.profile,isOwner:e.isOwner})]})})},g=s(99),I=s(12),N=s(90),y=s(68),k=s(294),w=s.n(k),S=s(295),B=s.n(S),C=function(e){return Object(d.jsxs)("div",{className:B.a.item,children:[Object(d.jsx)("img",{src:"https://www.kinonews.ru/insimgs/2021/newsimg/newsimg98663.jpg"})," ",e.message,Object(d.jsx)("div",{children:Object(d.jsxs)("span",{children:["Likes ",Object(d.jsx)("b",{children:e.likeCount})]})})]})},M=l.a.memo((function(e){var t=e.posts.map((function(e){return Object(d.jsx)(C,{message:e.post,likeCount:e.likesCount})}));return Object(d.jsxs)("div",{className:w.a.myPosts,children:[Object(d.jsx)("h2",{children:"My posts"}),Object(d.jsx)(F,{onSubmit:function(t){e.addPost(t.newPostBody)}}),Object(d.jsx)("div",{className:w.a.posts,children:t})]})})),T=Object(y.a)(30),F=Object(m.a)({form:"newpost"})((function(e){return Object(d.jsxs)("form",{onSubmit:e.handleSubmit,className:w.a.myPost,children:[Object(d.jsx)(N.a,{name:"newPostBody",component:O.b,placeholder:"Post message",className:w.a.textarea,validate:[y.b,T]}),Object(d.jsx)("button",{children:"Add post"})]})})),A=M,J=Object(I.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(g.a)(t))}}}))(A),D=function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)(v,{saveProfile:e.saveProfile,savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(d.jsx)(J,{})]})},E=s(11),U=s(10),V=s(98),L=function(e){Object(i.a)(s,e);var t=Object(c.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(n.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.loggedUserId),this.props.putUserId(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(d.jsx)(D,Object(a.a)(Object(a.a)({},this.props),{},{saveProfile:this.props.saveProfile,isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),s}(l.a.Component);t.default=Object(U.d)(Object(I.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,loggedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{setUserProfile:g.g,putUserId:g.d,getStatus:g.c,updateStatus:g.h,savePhoto:g.e,saveProfile:g.f}),E.f,V.a)(L)}}]);
//# sourceMappingURL=3.caa7a045.chunk.js.map