{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","className","s","statusText","onChange","e","currentTarget","value","onBlur","updateStatus","autoFocus","statusInput","ProfileDataFormReduxForm","reduxForm","form","handleSubmit","offEditMode","info","onSubmit","infoBlock","title","createField","Input","Textarea","editProfileBtn","type","editProfileBtnCancel","onClick","ProfileData","profile","isOwner","goToEditMode","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","Object","keys","contacts","map","key","contactTitle","contactValue","Contact","ProfileInfo","Preloader","avatar","main","profilePhoto","src","photos","large","userPhoto","alt","htmlFor","chooseFile","chooseBase","target","files","length","savePhoto","id","initialValues","formData","saveProfile","Post","item","message","likeCount","MyPosts","React","memo","postsElements","posts","p","post","likesCount","myPosts","AddNewPostForm","values","addPost","newPostBody","maxLength30","maxLengthCreator","myPost","Field","name","component","placeholder","textarea","validate","required","MyPostsContainer","connect","state","profilePage","newPostText","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","this","match","params","loggedUserId","putUserId","getStatus","refreshProfile","prevProps","prevState","snapshot","Component","compose","auth","isAuth","setUserProfile","withRouter","withAuthRedirect"],"mappings":"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","file":"static/js/3.caa7a045.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainimg\":\"ProfileInfo_mainimg__3VV6o\",\"item\":\"ProfileInfo_item__3Xkz7\",\"avatar\":\"ProfileInfo_avatar__1XxrF\",\"main\":\"ProfileInfo_main__2zhmf\",\"profilePhoto\":\"ProfileInfo_profilePhoto__3tqjv\",\"chooseFile\":\"ProfileInfo_chooseFile__3dVOu\",\"info\":\"ProfileInfo_info__N5QMX\",\"title\":\"ProfileInfo_title__1axYb\",\"statusInput\":\"ProfileInfo_statusInput__15yWZ\",\"statusText\":\"ProfileInfo_statusText__2UgT0\",\"chooseBase\":\"ProfileInfo_chooseBase__3reda\",\"contacts\":\"ProfileInfo_contacts__1-DYJ\",\"editProfileBtn\":\"ProfileInfo_editProfileBtn__2L9Wm\",\"editProfileBtnCancel\":\"ProfileInfo_editProfileBtnCancel__1i2oD\",\"animate1\":\"ProfileInfo_animate1__3TN4M\",\"animate2\":\"ProfileInfo_animate2__1osNZ\",\"animate3\":\"ProfileInfo_animate3__36p6f\",\"animate4\":\"ProfileInfo_animate4__LutIL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__2Frl-\",\"textarea\":\"MyPosts_textarea__20W2w\",\"myPost\":\"MyPosts_myPost__3X_sa\",\"posts\":\"MyPosts_posts__1rKi6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1SNgQ\"};","import React, { useState, useEffect } from 'react';\r\nimport s from './ProfileInfo.module.css';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status);\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div onDoubleClick={activateEditMode}>\r\n                    <p className={s.statusText}>{props.status || \"Empty\"}</p>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <textarea onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true} className={s.statusInput} value={status} />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import s from './ProfileInfo.module.css';\r\nimport { createField, Input, Textarea } from '../../common/FormsControls/FormsControls';\r\nimport { reduxForm } from 'redux-form';\r\n\r\nconst ProfileDataForm = ({ handleSubmit, offEditMode}) => {\r\n\r\n    return <form className={s.info} onSubmit={handleSubmit}>\r\n        <div className={s.infoBlock}>\r\n            <p className={s.title}>Info☻</p>\r\n            <p>Name: {createField(\"Name\", \"fullName\", [], Input)}</p>\r\n            <p>About: <span>{createField(\"About me...\", \"aboutMe\", [], Textarea)}</span></p>\r\n            <p>Looking for a job: <span>{createField(\"\", \"lookingForAJob\", [], Input, \"checkbox\")}</span></p>\r\n            <p>My professional skills: <span>{createField(\"Type here mf...\", \"lookingForAJobDescription\", [], Textarea)}</span></p>\r\n        </div>\r\n        {/* <div>\r\n            <p className={s.title}>Contacts☻</p>{Object.keys(profile.contacts).map(key => {\r\n                return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]} />\r\n            })}\r\n        </div> */}\r\n        <div>\r\n            <button className={s.editProfileBtn}>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                Save\r\n            </button>\r\n            <button type=\"button\" className={s.editProfileBtn, s.editProfileBtnCancel} onClick={offEditMode}>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                Cancel\r\n            </button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst ProfileDataFormReduxForm = reduxForm({ form: \"edit-profile\" })(ProfileDataForm)\r\n\r\nexport default ProfileDataFormReduxForm;","import s from './ProfileInfo.module.css';\r\nimport userPhoto from \"../../../assets/images/empty.png\";\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport { useState } from 'react';\r\nimport ProfileDataForm from './ProfileDataForm';\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n\r\n    if (!props.profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            props.savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const onSubmit= (formData) => {\r\n        props.saveProfile(formData);\r\n        setEditMode(false);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.avatar}>\r\n                <div className={s.main}>\r\n                    <div className={s.profilePhoto}>\r\n                        <img src={props.profile.photos.large || userPhoto} alt=\"\" />\r\n                        {props.isOwner && <label htmlFor=\"file-upload\" className={s.chooseFile}>\r\n                            Change ava\r\n                        </label>}\r\n                    </div>\r\n                    <input className={s.chooseBase} onChange={onMainPhotoSelected} id={\"file-upload\"} type=\"file\" />\r\n                    <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus} />\r\n                </div>\r\n                {editMode\r\n                    ? <ProfileDataForm initialValues={props.profile} profile={props.profile} onSubmit={onSubmit} offEditMode={() => {setEditMode(false)}} />\r\n                    : <ProfileData goToEditMode={() => { setEditMode(true) }} profile={props.profile} isOwner={props.isOwner} />}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const ProfileData = ({ profile, isOwner, goToEditMode }) => {\r\n    return <div className={s.info}>\r\n        <div className={s.infoBlock}>\r\n            <p className={s.title}>Info☻</p>\r\n            <p>Name: <span>{profile.fullName}</span></p>\r\n            <p>About: <span>{profile.aboutMe}</span></p>\r\n            <p>Job: <span>{profile.lookingForAJob === true ? \"Ищет работу\" : \"Работает где-то\"}</span></p>\r\n            <p>Job description: <span>{profile.lookingForAJobDescription}</span></p>\r\n        </div>\r\n        <div>\r\n            <p className={s.title}>Contacts☻</p>{Object.keys(profile.contacts).map(key => {\r\n                return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]} />\r\n            })}\r\n        </div>\r\n        {isOwner && <div>\r\n            <button className={s.editProfileBtn} onClick={goToEditMode}>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n                Edit my profile\r\n            </button>\r\n        </div>}\r\n    </div>\r\n}\r\n\r\nconst Contact = ({ contactTitle, contactValue }) => {\r\n    return <p className={s.contacts}>{contactTitle}: {contactValue}</p>\r\n}\r\n\r\nexport default ProfileInfo;","import s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <img src=\"https://www.kinonews.ru/insimgs/2021/newsimg/newsimg98663.jpg\"/> {props.message}\r\n            <div>\r\n                <span>Likes <b>{props.likeCount}</b></span>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default Post;","import React from \"react\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport { maxLengthCreator, required } from \"../../../support/validators\";\r\nimport { Textarea } from \"../../common/FormsControls/FormsControls.js\";\r\nimport s from \"./MyPosts.module.css\";\r\nimport Post from \"./Post/Post\";\r\n\r\nconst MyPosts = React.memo((props) => {\r\n\r\n  let postsElements = props.posts.map((p) => (\r\n    <Post message={p.post} likeCount={p.likesCount} />\r\n  ));\r\n\r\n\r\n  let onAddPost = (values) => {\r\n    props.addPost(values.newPostBody)\r\n  };\r\n\r\n  return (\r\n    <div className={s.myPosts}>\r\n      <h2>My posts</h2>\r\n      <AddNewPostForm onSubmit={onAddPost} />\r\n      <div className={s.posts}>{postsElements}</div>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst maxLength30 = maxLengthCreator(30)\r\n\r\nconst AddNewPost = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit} className={s.myPost}>\r\n      <Field name=\"newPostBody\" component={Textarea} placeholder={\"Post message\"} className={s.textarea} validate={[required, maxLength30]} />\r\n      <button>Add post</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst AddNewPostForm = reduxForm({\r\n  form: \"newpost\"\r\n})(AddNewPost)\r\nexport default MyPosts;\r\n","import React from 'react';\r\nimport {addPostActionCreator} from \"../../../redux/profile-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport MyPosts from \"./MyPosts\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostBody) => {\r\n            dispatch(addPostActionCreator(newPostBody));\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default MyPostsContainer;","import ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo saveProfile={props.saveProfile} savePhoto={props.savePhoto} isOwner={props.isOwner} profile={props.profile} status={props.status} updateStatus={props.updateStatus} />\r\n            <MyPostsContainer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from \"react-redux\";\r\nimport { setUserProfile, putUserId, getStatus, updateStatus, savePhoto, saveProfile } from \"../../redux/profile-reducer\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.loggedUserId;\r\n        }\r\n        this.props.putUserId(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.userId != prevProps.match.params.userId) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} \r\n            saveProfile={this.props.saveProfile}\r\n            isOwner={!this.props.match.params.userId} \r\n            profile={this.props.profile} \r\n            status={this.props.status} \r\n            updateStatus={this.props.updateStatus} \r\n            savePhoto={this.props.savePhoto}  \r\n             />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    loggedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default\r\n    compose(\r\n        connect(mapStateToProps, { setUserProfile, putUserId, getStatus, updateStatus, savePhoto, saveProfile }),\r\n        withRouter,\r\n        withAuthRedirect\r\n    )(ProfileContainer)"],"sourceRoot":""}